-- Získání hráče
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local camera = game.Workspace.CurrentCamera

-- GUI část
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = player.PlayerGui
screenGui.ResetOnSpawn = false

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 300, 0, 400)
mainFrame.Position = UDim2.new(0, 10, 0, 10)
mainFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
mainFrame.BackgroundTransparency = 0.5
mainFrame.Parent = screenGui

local categoryButton = Instance.new("TextButton")
categoryButton.Size = UDim2.new(0, 200, 0, 50)
categoryButton.Position = UDim2.new(0, 50, 0, 10)
categoryButton.Text = "Player"
categoryButton.Parent = mainFrame

local playerCategory = Instance.new("Frame")
playerCategory.Size = UDim2.new(0, 250, 0, 200)
playerCategory.Position = UDim2.new(0, 10, 0, 70)
playerCategory.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
playerCategory.BackgroundTransparency = 0.5
playerCategory.Visible = false
playerCategory.Parent = mainFrame

-- Speed (Slider)
local speedSlider = Instance.new("Slider")
speedSlider.Size = UDim2.new(0, 200, 0, 20)
speedSlider.Position = UDim2.new(0, 10, 0, 10)
speedSlider.MaxValue = 1000
speedSlider.MinValue = 1
speedSlider.Value = humanoid.WalkSpeed
speedSlider.Parent = playerCategory

local speedButton = Instance.new("TextButton")
speedButton.Size = UDim2.new(0, 100, 0, 50)
speedButton.Position = UDim2.new(0, 10, 0, 40)
speedButton.Text = "Toggle Speed"
speedButton.Parent = playerCategory

-- Power Jump
local powerJumpButton = Instance.new("TextButton")
powerJumpButton.Size = UDim2.new(0, 100, 0, 50)
powerJumpButton.Position = UDim2.new(0, 120, 0, 40)
powerJumpButton.Text = "Toggle Jump Power"
powerJumpButton.Parent = playerCategory

-- Fly
local flyButton = Instance.new("TextButton")
flyButton.Size = UDim2.new(0, 100, 0, 50)
flyButton.Position = UDim2.new(0, 10, 0, 100)
flyButton.Text = "Toggle Fly"
flyButton.Parent = playerCategory

-- NoClip
local noclipButton = Instance.new("TextButton")
noclipButton.Size = UDim2.new(0, 100, 0, 50)
noclipButton.Position = UDim2.new(0, 120, 0, 100)
noclipButton.Text = "Toggle NoClip"
noclipButton.Parent = playerCategory

-- Funkce pro Player kategorie
local flying = false
local noclipEnabled = false
local speedEnabled = false
local jumping = false

-- Speed
speedSlider.Changed:Connect(function()
    if speedEnabled then
        humanoid.WalkSpeed = speedSlider.Value
    end
end)

speedButton.MouseButton1Click:Connect(function()
    speedEnabled = not speedEnabled
    if speedEnabled then
        humanoid.WalkSpeed = speedSlider.Value
    else
        humanoid.WalkSpeed = 16 -- default speed
    end
end)

-- Power Jump
powerJumpButton.MouseButton1Click:Connect(function()
    jumping = not jumping
    if jumping then
        humanoid.JumpHeight = 100 -- nastaví výšku skoku na 100
    else
        humanoid.JumpHeight = 50 -- standardní výška skoku
    end
end)

-- Fly
flyButton.MouseButton1Click:Connect(function()
    flying = not flying
    if flying then
        -- Aktivace létání
        local bodyVelocity = Instance.new("BodyVelocity")
        bodyVelocity.MaxForce = Vector3.new(4000, 4000, 4000)
        bodyVelocity.Velocity = Vector3.new(0, 50, 0)
        bodyVelocity.Parent = character:WaitForChild("HumanoidRootPart")
        -- Použití tlačítek pro pohyb na mobilu
        local touchZoneUp = Instance.new("TextButton")
        touchZoneUp.Size = UDim2.new(0, 50, 0, 50)
        touchZoneUp.Position = UDim2.new(0, 10, 0, 150)
        touchZoneUp.Text = "Up"
        touchZoneUp.Parent = player.PlayerGui
        touchZoneUp.MouseButton1Click:Connect(function()
            bodyVelocity.Velocity = Vector3.new(0, 50, 0) -- pohyb nahoru
        end)
        
        local touchZoneDown = Instance.new("TextButton")
        touchZoneDown.Size = UDim2.new(0, 50, 0, 50)
        touchZoneDown.Position = UDim2.new(0, 10, 0, 210)
        touchZoneDown.Text = "Down"
        touchZoneDown.Parent = player.PlayerGui
        touchZoneDown.MouseButton1Click:Connect(function()
            bodyVelocity.Velocity = Vector3.new(0, -50, 0) -- pohyb dolů
        end)
    else
        -- Zastavení létání
        character:WaitForChild("HumanoidRootPart"):FindFirstChildOfClass("BodyVelocity"):Destroy()
    end
end)

-- NoClip
noclipButton.MouseButton1Click:Connect(function()
    noclipEnabled = not noclipEnabled
    if noclipEnabled then
        -- Povolení NoClip
        humanoid.PlatformStand = true
        character:WaitForChild("HumanoidRootPart").CanCollide = false
    else
        -- Vypnutí NoClip
        humanoid.PlatformStand = false
        character:WaitForChild("HumanoidRootPart").CanCollide = true
    end
end)

categoryButton.MouseButton1Click:Connect(function()
    playerCategory.Visible = not playerCategory.Visible
end)
